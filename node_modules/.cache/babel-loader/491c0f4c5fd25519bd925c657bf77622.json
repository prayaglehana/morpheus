{"ast":null,"code":"var _jsxFileName = \"C:\\\\WareHouse\\\\PiggyMe\\\\Morpheus\\\\morpheus-master\\\\morpheus_on_git\\\\morpheus\\\\src\\\\Transaction.js\";\nimport React from 'react';\nimport { withStyles, makeStyles, useTheme } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport IconButton from '@material-ui/core/IconButton';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport { get } from 'axios';\nimport Web3 from 'web3';\nconst useStyles1 = makeStyles(theme => ({\n  root: {\n    flexShrink: 0,\n    color: theme.palette.text.secondary,\n    marginLeft: theme.spacing(2.5)\n  }\n}));\n\nfunction TablePaginationActions(props) {\n  const classes = useStyles1();\n  const theme = useTheme();\n  const count = props.count,\n        page = props.page,\n        rowsPerPage = props.rowsPerPage,\n        onChangePage = props.onChangePage;\n\n  function handleFirstPageButtonClick(event) {\n    onChangePage(event, 0);\n  }\n\n  function handleBackButtonClick(event) {\n    onChangePage(event, page - 1);\n  }\n\n  function handleNextButtonClick(event) {\n    onChangePage(event, page + 1);\n  }\n\n  function handleLastPageButtonClick(event) {\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    onClick: handleFirstPageButtonClick,\n    disabled: page === 0,\n    \"aria-label\": \"First Page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, theme.direction === 'rtl' ? React.createElement(LastPageIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }) : React.createElement(FirstPageIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  })), React.createElement(IconButton, {\n    onClick: handleBackButtonClick,\n    disabled: page === 0,\n    \"aria-label\": \"Previous Page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, theme.direction === 'rtl' ? React.createElement(KeyboardArrowRight, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }) : React.createElement(KeyboardArrowLeft, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })), React.createElement(IconButton, {\n    onClick: handleNextButtonClick,\n    disabled: page >= Math.ceil(count / rowsPerPage) - 1,\n    \"aria-label\": \"Next Page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, theme.direction === 'rtl' ? React.createElement(KeyboardArrowLeft, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }) : React.createElement(KeyboardArrowRight, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  })), React.createElement(IconButton, {\n    onClick: handleLastPageButtonClick,\n    disabled: page >= Math.ceil(count / rowsPerPage) - 1,\n    \"aria-label\": \"Last Page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, theme.direction === 'rtl' ? React.createElement(FirstPageIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }) : React.createElement(LastPageIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  })));\n}\n\nconst styles = theme => ({\n  root: {\n    width: '90%',\n    margin: 'auto',\n    marginTop: theme.spacing(5),\n    overflowX: 'auto',\n    textAlign: 'center'\n  },\n  table: {\n    minWidth: 400\n  },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around'\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 200\n  },\n  textField1: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(30),\n    width: 270\n  },\n  tableWrapper: {\n    overflowX: 'auto'\n  },\n  menu: {\n    width: 200\n  },\n  button: {\n    margin: theme.spacing(1),\n    width: 200\n  }\n});\n\nconst createData = (sender, receiver, contractaddr, balrupee, pgy, category) => {\n  return {\n    sender,\n    receiver,\n    contractaddr,\n    balrupee,\n    pgy,\n    category\n  };\n};\n\nconst categories = [{\n  value: 'Unspecified',\n  label: 'Unspecified'\n}, {\n  value: 'Rent',\n  label: 'Rent'\n}, {\n  value: 'Bet',\n  label: 'Bet'\n}, {\n  value: 'Hire',\n  label: 'Hire'\n}, {\n  value: 'Others',\n  label: 'Others'\n}];\n\nclass Transactions extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.handleChangePage = (event, page) => {\n      this.setState({\n        page\n      });\n    };\n\n    this.handleChangeRowsPerPage = event => {\n      this.setState({\n        rowsPerPage: parseInt(event.target.value, 10)\n      });\n    };\n\n    this.state = {\n      rows: [//createData('sender_Address','receiver_address', '0x14FCF', 2000, 30.2, 'unspecified'),\n      ],\n      balance: 0,\n      receiver: '',\n      sender: '',\n      category: 'Rent',\n      contractAddressToBeSearched: '',\n      page: 0,\n      rowsPerPage: 5,\n      eth2inr: 0,\n      eth2usd: 0\n    };\n    this.setEventListeners = this.setEventListeners.bind(this);\n    this.requestTokens = this.requestTokens.bind(this);\n  }\n\n  async componentDidMount() {\n    get('https://min-api.cryptocompare.com/data/price?fsym=ETH&tsyms=INR,USD').then(({\n      data\n    }) => {\n      this.setState({\n        eth2inr: data.INR,\n        eth2usd: data.USD\n      });\n    });\n    await this.setEventListeners();\n  }\n\n  setEventListeners() {\n    var THIS = this;\n    this.props.factoryContract.events.contractCreated({\n      fromBlock: 0\n    }, function (error, event) {\n      console.log(\"in above \");\n      console.log(event); //alert(event.returnValues.newContractAddress);\n      // this.state.rows.append(createData(1, event.returnValues.newContractAddress, this.state.Req, 30.2, 'unspecified'));\n\n      THIS.setState({\n        rows: [...THIS.state.rows, createData(event.returnValues.sender, event.returnValues.receiver, event.returnValues.newContractAddress, parseInt(event.returnValues.realrequiredPrice._hex, 16), parseInt(event.returnValues.realrequiredPrice._hex, 16) / parseInt(event.returnValues.Vold._hex, 16), event.returnValues.category)]\n      });\n    }).on('data', function (event) {\n      console.log('optional callback'); // same results as the optional callback above\n    });\n  }\n\n  make_new_contract() {\n    console.log('Deal Details : \\n' + ' Receiver ' + this.state.receiver + '\\n' + ' Sender ' + this.state.sender + '\\n' + ' Balance ' + this.state.balance + '\\n' + ' Category ' + this.state.category + '\\n' + ' curPrice ' + this.state.eth2inr); //Math.round( this.state.eth2inr )\n\n    console.log('curret account: ' + this.props.thisAccount + ' current price ', this.state.eth2inr);\n    if (this.state.eth2inr != 0) this.props.factoryContract.methods.createContract(Math.round(this.state.eth2inr), this.state.sender, this.state.receiver, 25000, this.state.category).send({\n      from: this.props.thisAccount\n    }).then((err, res) => console.log('ddsfine'));else console.log('Let Token Price To Be Fetched Please');\n  }\n\n  requestTokens() {\n    this.props.factoryContract.methods.requestTokens().send({\n      from: this.props.thisAccount\n    }).then((err, res) => console.log('submitted request'));\n  }\n\n  render() {\n    const classes = this.props.classes;\n    const _this$state = this.state,\n          rows = _this$state.rows,\n          rowsPerPage = _this$state.rowsPerPage,\n          page = _this$state.page;\n    var emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        textAlign: 'center',\n        fontFamily: 'roboto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"All deals\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, \"Published on Ropsten Network\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"PGY Token Contract Address : 0xaf13a1579a45c0b3888efd6c59161dc17ffefb06\")), React.createElement(Paper, {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      required: true,\n      id: \"standard---placeholder\",\n      label: \"Search By Contract Address\",\n      value: this.state.contractAddressToBeSearched,\n      onChange: this.handleChange('contractAddressToBeSearched'),\n      placeholder: \"\",\n      className: classes.textField1,\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }), React.createElement(Button, {\n      variant: \"contained\",\n      className: classes.button,\n      onClick: () => {\n        this.props.search_by_ca(this.state.contractAddressToBeSearched);\n      },\n      color: \"secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, \"Search\"), React.createElement(Button, {\n      variant: \"contained\",\n      className: classes.button,\n      onClick: () => {\n        this.requestTokens();\n      },\n      color: \"secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, \"Request Piggy Token\")), React.createElement(Paper, {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, \"Add Deal\"), React.createElement(\"form\", {\n      className: classes.container,\n      noValidate: true,\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      required: true,\n      id: \"standard-with-placeholder\",\n      label: \"Receiver\",\n      value: this.state.receiver,\n      onChange: this.handleChange('receiver'),\n      placeholder: \"0x148\",\n      className: classes.textField,\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      required: true,\n      id: \"standard-with-placeholder\",\n      label: \"Sender\",\n      value: this.state.sender,\n      onChange: this.handleChange('sender'),\n      placeholder: \"0x148\",\n      className: classes.textField,\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"standard-number\",\n      label: \"Deal Required Balance \\u20B9 \",\n      required: true,\n      value: this.state.balance,\n      onChange: this.handleChange('balance'),\n      type: \"number\",\n      className: classes.textField,\n      InputLabelProps: {\n        shrink: true\n      },\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"standard-select-category\",\n      select: true,\n      required: true,\n      label: \"Category\",\n      className: classes.textField,\n      value: this.state.category,\n      onChange: this.handleChange('category'),\n      SelectProps: {\n        MenuProps: {\n          className: classes.menu\n        }\n      },\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, categories.map(option => React.createElement(MenuItem, {\n      key: option.value,\n      value: option.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, option.label)))), React.createElement(Button, {\n      variant: \"contained\",\n      className: classes.button,\n      onClick: () => {\n        this.make_new_contract();\n      },\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, \"Add new Contract\")), React.createElement(Paper, {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.tableWrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, React.createElement(Table, {\n      className: classes.table,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }, React.createElement(TableHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }, \"Sender\"), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, \"Receiver\"), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, \"Contract Address\"), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, \"Total Balance\\xA0(\\u20B9)\"), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, \"PGY\"), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, \"Category\"))), React.createElement(TableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(row => React.createElement(TableRow, {\n      key: row.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, row.sender), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, row.receiver), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, row.contractaddr), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, row.balrupee), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    }, row.pgy), React.createElement(TableCell, {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, row.category))), emptyRows > 0 && React.createElement(TableRow, {\n      style: {\n        height: 48 * emptyRows\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      colSpan: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    }))), React.createElement(TableFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378\n      },\n      __self: this\n    }, React.createElement(TablePagination, {\n      rowsPerPageOptions: [5, 10, 25],\n      colSpan: 3,\n      count: rows.length,\n      rowsPerPage: rowsPerPage,\n      page: page,\n      SelectProps: {\n        inputProps: {\n          'aria-label': 'Rows per page'\n        },\n        native: true\n      },\n      onChangePage: this.handleChangePage,\n      onChangeRowsPerPage: this.handleChangeRowsPerPage,\n      ActionsComponent: TablePaginationActions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nexport default withStyles(styles)(Transactions);","map":{"version":3,"sources":["C:\\WareHouse\\PiggyMe\\Morpheus\\morpheus-master\\morpheus_on_git\\morpheus\\src\\Transaction.js"],"names":["React","withStyles","makeStyles","useTheme","Table","TableBody","TableCell","TableHead","TableRow","Paper","MenuItem","TextField","Button","TableFooter","TablePagination","IconButton","FirstPageIcon","KeyboardArrowLeft","KeyboardArrowRight","LastPageIcon","get","Web3","useStyles1","theme","root","flexShrink","color","palette","text","secondary","marginLeft","spacing","TablePaginationActions","props","classes","count","page","rowsPerPage","onChangePage","handleFirstPageButtonClick","event","handleBackButtonClick","handleNextButtonClick","handleLastPageButtonClick","Math","max","ceil","direction","styles","width","margin","marginTop","overflowX","textAlign","table","minWidth","container","display","flexWrap","justifyContent","textField","marginRight","textField1","tableWrapper","menu","button","createData","sender","receiver","contractaddr","balrupee","pgy","category","categories","value","label","Transactions","Component","constructor","handleChange","name","setState","target","handleChangePage","handleChangeRowsPerPage","parseInt","state","rows","balance","contractAddressToBeSearched","eth2inr","eth2usd","setEventListeners","bind","requestTokens","componentDidMount","then","data","INR","USD","THIS","factoryContract","events","contractCreated","fromBlock","error","console","log","returnValues","newContractAddress","realrequiredPrice","_hex","Vold","on","make_new_contract","thisAccount","methods","createContract","round","send","from","err","res","render","emptyRows","min","length","fontFamily","search_by_ca","shrink","MenuProps","className","map","option","slice","row","height","inputProps","native"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { withStyles,makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport TableFooter from '@material-ui/core/TableFooter';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport LastPageIcon from '@material-ui/icons/LastPage';\r\nimport {get} from 'axios';\r\nimport Web3 from 'web3';\r\n\r\n\r\nconst useStyles1 = makeStyles(theme => ({\r\n    root: {\r\n      flexShrink: 0,\r\n      color: theme.palette.text.secondary,\r\n      marginLeft: theme.spacing(2.5),\r\n    },\r\n  }));\r\n\r\n \r\nfunction TablePaginationActions(props) {\r\n    const classes = useStyles1();\r\n    const theme = useTheme();\r\n    const { count, page, rowsPerPage, onChangePage } = props;\r\n  \r\n    function handleFirstPageButtonClick(event) {\r\n      onChangePage(event, 0);\r\n    }\r\n  \r\n    function handleBackButtonClick(event) {\r\n      onChangePage(event, page - 1);\r\n    }\r\n  \r\n    function handleNextButtonClick(event) {\r\n      onChangePage(event, page + 1);\r\n    }\r\n  \r\n    function handleLastPageButtonClick(event) {\r\n      onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n    }\r\n  \r\n    return (\r\n      <div className={classes.root}>\r\n        <IconButton\r\n          onClick={handleFirstPageButtonClick}\r\n          disabled={page === 0}\r\n          aria-label=\"First Page\"\r\n        >\r\n          {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\r\n        </IconButton>\r\n        <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"Previous Page\">\r\n          {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n        </IconButton>\r\n        <IconButton\r\n          onClick={handleNextButtonClick}\r\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n          aria-label=\"Next Page\"\r\n        >\r\n          {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n        </IconButton>\r\n        <IconButton\r\n          onClick={handleLastPageButtonClick}\r\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n          aria-label=\"Last Page\"\r\n        >\r\n          {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\r\n        </IconButton>\r\n      </div>\r\n    );\r\n  }\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '90%',           \r\n    margin:'auto',    \r\n    marginTop: theme.spacing(5),\r\n    overflowX: 'auto',\r\n    textAlign:'center',\r\n  },\r\n  table: {\r\n    minWidth: 400,\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent:'space-around'\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 200,\r\n  },\r\n  textField1:{\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(30),\r\n    width: 270,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: 'auto',\r\n  },\r\n  menu: {\r\n    width: 200,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    width:200\r\n  }\r\n});\r\n\r\nconst createData = (sender,receiver, contractaddr, balrupee, pgy, category) =>{\r\n  return { sender,receiver, contractaddr, balrupee, pgy, category };\r\n}\r\n\r\nconst categories = [\r\n    {\r\n      value: 'Unspecified',\r\n      label: 'Unspecified',\r\n    },\r\n    {\r\n      value: 'Rent',\r\n      label: 'Rent',\r\n    },\r\n    {\r\n      value: 'Bet',\r\n      label: 'Bet',\r\n    },\r\n    {\r\n      value: 'Hire',\r\n      label: 'Hire',\r\n    },\r\n    {\r\n      value: 'Others',\r\n      label: 'Others',\r\n    },\r\n  ];\r\n\r\nclass Transactions extends React.Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            rows :[\r\n                //createData('sender_Address','receiver_address', '0x14FCF', 2000, 30.2, 'unspecified'),\r\n     \r\n \r\n   \r\n\r\n              ],\r\n            balance:0,\r\n            receiver:'',\r\n            sender:'',\r\n            category:'Rent',\r\n            contractAddressToBeSearched: '',\r\n            page:0,\r\n            rowsPerPage:5,\r\n            eth2inr:0,\r\n            eth2usd:0\r\n        }\r\n        this.setEventListeners=this.setEventListeners.bind(this);\r\n        this.requestTokens=this.requestTokens.bind(this);\r\n       \r\n    }\r\n    async componentDidMount(){\r\n\r\n      get('https://min-api.cryptocompare.com/data/price?fsym=ETH&tsyms=INR,USD')\r\n      .then(({data})=>{\r\n        this.setState({\r\n          eth2inr:data.INR,\r\n          eth2usd:data.USD });\r\n      });\r\n      await this.setEventListeners();\r\n    }\r\n    setEventListeners(){\r\n      var THIS=this;\r\n    this.props.factoryContract.events.contractCreated({\r\n              fromBlock: 0\r\n              }, function(error, event){ console.log(\"in above \");console.log(event);\r\n        //alert(event.returnValues.newContractAddress);\r\n     // this.state.rows.append(createData(1, event.returnValues.newContractAddress, this.state.Req, 30.2, 'unspecified'));\r\n     THIS.setState({rows:[...THIS.state.rows,createData(event.returnValues.sender,event.returnValues.receiver,event.returnValues.newContractAddress, \r\n      parseInt(event.returnValues.realrequiredPrice._hex,16),\r\n      parseInt(event.returnValues.realrequiredPrice._hex,16)/parseInt(event.returnValues.Vold._hex,16), event.returnValues.category)]})\r\n      })\r\n          .on('data', function(event){console.log('optional callback');// same results as the optional callback above\r\n              });\r\n    }\r\n\r\n    make_new_contract(){\r\n\r\n      console.log('Deal Details : \\n'+\r\n         ' Receiver '+this.state.receiver+ '\\n'+\r\n         ' Sender '+this.state.sender+'\\n'+\r\n         ' Balance '+this.state.balance+'\\n'+\r\n         ' Category '+this.state.category+'\\n'+\r\n         ' curPrice '+this.state.eth2inr);\r\n         //Math.round( this.state.eth2inr )\r\n      console.log('curret account: '+this.props.thisAccount+ ' current price ',this.state.eth2inr);\r\n      if(this.state.eth2inr!=0) \r\n       this.props.factoryContract.methods.createContract( Math.round( this.state.eth2inr ),this.state.sender,this.state.receiver,25000,this.state.category)\r\n            .send({from:this.props.thisAccount}).then((err,res)=>console.log('ddsfine'));\r\n      else\r\n        console.log('Let Token Price To Be Fetched Please')\r\n     \r\n    }\r\n   \r\n    requestTokens(){\r\n      this.props.factoryContract.methods.requestTokens( )\r\n      .send({from:this.props.thisAccount}).then((err,res)=>console.log('submitted request'));\r\n    }\r\n\r\n\r\n    handleChange = name => event => {\r\n        this.setState({[name]: event.target.value});\r\n    };\r\n\r\n        \r\n    handleChangePage = (event, page) => {\r\n        this.setState({page})\r\n    }\r\n\r\n    handleChangeRowsPerPage = (event) => {\r\n        this.setState({rowsPerPage:parseInt(event.target.value,10)});\r\n    }\r\n    render(){\r\n        const {classes} = this.props\r\n        const {rows,rowsPerPage,page} = this.state\r\n        var emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\r\n     return (   \r\n\r\n            <div >\r\n                <div style={{textAlign:'center',fontFamily:'roboto'}}>\r\n                    <h1>\r\n                        All deals\r\n                       \r\n                    </h1>\r\n                    <p>Published on Ropsten Network</p>\r\n                    <p>PGY Token Contract Address : 0xaf13a1579a45c0b3888efd6c59161dc17ffefb06</p>\r\n                </div>\r\n                \r\n                <Paper className={classes.root}>\r\n                \r\n                  <TextField\r\n                        required\r\n                        id=\"standard---placeholder\"\r\n                        label=\"Search By Contract Address\"\r\n                        value={this.state.contractAddressToBeSearched}\r\n                        onChange={this.handleChange('contractAddressToBeSearched')}\r\n                        placeholder=\"\"\r\n                        className={classes.textField1}\r\n                        margin=\"normal\"\r\n                    />\r\n                   <Button variant=\"contained\" \r\n                        className={classes.button}\r\n                        onClick={() => {this.props.search_by_ca(this.state.contractAddressToBeSearched);  }}\r\n                        color = \"secondary\"\r\n                    >\r\n                       Search\r\n                    </Button>\r\n                    <Button variant=\"contained\" \r\n                        className={classes.button}\r\n                        onClick={() => {this.requestTokens();  }}\r\n                        color = \"secondary\"\r\n                    >\r\n                       Request Piggy Token \r\n                    </Button>\r\n                    \r\n                </Paper>\r\n                <Paper className={classes.root}>\r\n                    <h1>\r\n                        Add Deal\r\n                    </h1>\r\n                    <form className={classes.container} noValidate autoComplete=\"off\">\r\n                    <TextField\r\n                        required\r\n                        id=\"standard-with-placeholder\"\r\n                        label=\"Receiver\"\r\n                        value={this.state.receiver}\r\n                        onChange={this.handleChange('receiver')}\r\n                        placeholder=\"0x148\"\r\n                        className={classes.textField}\r\n                        margin=\"normal\"\r\n                    />\r\n                    <TextField\r\n                        required\r\n                        id=\"standard-with-placeholder\"\r\n                        label=\"Sender\"\r\n                        value={this.state.sender}\r\n                        onChange={this.handleChange('sender')}\r\n                        placeholder=\"0x148\"\r\n                        className={classes.textField}\r\n                        margin=\"normal\"\r\n                    />\r\n                    <TextField\r\n                        id=\"standard-number\"\r\n                        label=\"Deal Required Balance ₹ \"\r\n                        required\r\n                        value={this.state.balance}\r\n                        onChange={this.handleChange('balance')}\r\n                        type=\"number\"\r\n                        className={classes.textField}\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        margin=\"normal\"\r\n                    />\r\n                    <TextField\r\n                        id=\"standard-select-category\"\r\n                        select\r\n                        required\r\n                        label=\"Category\"\r\n                        className={classes.textField}\r\n                        value={this.state.category}\r\n                        onChange={this.handleChange('category')}\r\n                        SelectProps={{\r\n                        MenuProps: {\r\n                            className: classes.menu,\r\n                        },\r\n                        }}\r\n                        margin=\"normal\"\r\n                    >\r\n                        {categories.map(option => (\r\n                        <MenuItem key={option.value} value={option.value}>\r\n                            {option.label}\r\n                        </MenuItem>\r\n                        ))}\r\n                    </TextField>\r\n                    </form>\r\n                    <Button variant=\"contained\" \r\n                        className={classes.button}\r\n                        onClick={() => {this.make_new_contract();  }}\r\n                        color = \"primary\"\r\n                    >\r\n                        Add new Contract\r\n                    </Button>\r\n                </Paper>\r\n                <Paper className={classes.root}>\r\n                    <div className={classes.tableWrapper}>\r\n                        <Table className={classes.table}>\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell align=\"center\">Sender</TableCell>\r\n                                <TableCell align=\"center\">Receiver</TableCell>\r\n                                <TableCell align=\"center\">Contract Address</TableCell>\r\n                                <TableCell align=\"center\">Total Balance&nbsp;(₹)</TableCell>\r\n                                <TableCell align=\"center\">PGY</TableCell>\r\n                                <TableCell align=\"center\">Category</TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(row => (\r\n                            <TableRow key={row.name}>\r\n                                    <TableCell align=\"center\">{row.sender}</TableCell>\r\n                                    <TableCell align=\"center\">{row.receiver}</TableCell>\r\n                                    <TableCell align=\"center\">{row.contractaddr}</TableCell>\r\n                                    <TableCell align=\"center\">{row.balrupee}</TableCell>\r\n                                    <TableCell align=\"center\">{row.pgy}</TableCell>\r\n                                    <TableCell align=\"center\">{row.category}</TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n\r\n                            {emptyRows > 0 && (\r\n                            <TableRow style={{ height: 48 * emptyRows }}>\r\n                                <TableCell colSpan={6} />\r\n                            </TableRow>\r\n                            )}\r\n                        </TableBody>\r\n                        <TableFooter>\r\n                            <TableRow>\r\n                            <TablePagination\r\n                                rowsPerPageOptions={[5, 10, 25]}\r\n                                colSpan={3}\r\n                                count={rows.length}\r\n                                rowsPerPage={rowsPerPage}\r\n                                page={page}\r\n                                SelectProps={{\r\n                                inputProps: { 'aria-label': 'Rows per page' },\r\n                                native: true,\r\n                                }}\r\n                                onChangePage={this.handleChangePage}\r\n                                onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n                                ActionsComponent={TablePaginationActions}\r\n                            />\r\n                            </TableRow>\r\n                        </TableFooter>\r\n                        </Table>\r\n                    </div>\r\n                </Paper>                \r\n            </div>  \r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(Transactions);\r\n"]},"metadata":{},"sourceType":"module"}